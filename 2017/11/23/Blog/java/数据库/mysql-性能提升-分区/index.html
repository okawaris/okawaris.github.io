<!DOCTYPE html><html lang="zh-tw"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="mysql-性能提升-分区"><meta name="keywords" content="mysql,分区,性能提升"><meta name="author" content="Jia Xufeng"><meta name="copyright" content="Jia Xufeng"><title>mysql-性能提升-分区 | 暗夜精灵のBlog</title><link rel="shortcut icon" href="http://image.icool8.cn/blog/20200618/tlIPrUJYHhnI.png?imageslim"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 5.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">1.</span> <span class="toc-text">分区</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E6%8F%90%E4%BE%9B%E7%9A%84%E5%88%86%E5%8C%BA%E7%AE%97%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">MySQL提供的分区算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hash-field"><span class="toc-number">1.1.1.</span> <span class="toc-text">hash(field)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#key-field"><span class="toc-number">1.1.2.</span> <span class="toc-text">key(field)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#range%E7%AE%97%E6%B3%95"><span class="toc-number">1.1.3.</span> <span class="toc-text">range算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list%E7%AE%97%E6%B3%95"><span class="toc-number">1.1.4.</span> <span class="toc-text">list算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E7%AE%A1%E7%90%86%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">分区管理语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#range-list"><span class="toc-number">1.2.1.</span> <span class="toc-text">range&#x2F;list</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E5%88%86%E5%8C%BA"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">增加分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E5%8C%BA"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">删除分区</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#key-hash"><span class="toc-number">1.2.2.</span> <span class="toc-text">key&#x2F;hash</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%88%86%E5%8C%BA"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">新增分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%80%E6%AF%81%E5%88%86%E5%8C%BA"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">销毁分区</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">分区的使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%88%86%E5%89%B2%E5%92%8C%E5%9E%82%E7%9B%B4%E5%88%86%E5%89%B2"><span class="toc-number">2.</span> <span class="toc-text">水平分割和垂直分割</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E8%A1%A8%E5%8E%9F%E5%9B%A0"><span class="toc-number">2.1.</span> <span class="toc-text">分表原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#id%E9%87%8D%E5%A4%8D%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">2.2.</span> <span class="toc-text">id重复的解决方案</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://image.icool8.cn/blog/20200618/tlIPrUJYHhnI.png?imageslim"></div><div class="author-info__name text-center">Jia Xufeng</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">85</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">83</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">29</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">暗夜精灵のBlog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">主页</a><a class="site-page" href="/archives">文章</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">mysql-性能提升-分区</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-11-23</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/">mysql</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h1><p>一般情况下我们创建的表对应一组存储文件，使用<code>MyISAM</code>存储引擎时是一个<code>.MYI</code>和<code>.MYD</code>文件，使用<code>Innodb</code>存储引擎时是一个<code>.ibd</code>和<code>.frm</code>（表结构）文件。</p>
<p>当数据量较大时（一般千万条记录级别以上），MySQL的性能就会开始下降，这时我们就需要将数据分散到多组存储文件，==保证其单个文件的执行效率==。</p>
<p>最常见的分区方案是按<code>id</code>分区，如下将<code>id</code>的哈希值对10取模将数据均匀分散到10个<code>.ibd</code>存储文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table article(</span><br><span class="line">	id int auto_increment PRIMARY KEY,</span><br><span class="line">	title varchar(64),</span><br><span class="line">	content text</span><br><span class="line">)PARTITION by HASH(id) PARTITIONS 10</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p>查看<code>data</code>目录：</p>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/d5e59e4ddde984d4bc09b89baf24a74affcf7e77dfdd7684745a5bf9d8e6a713/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f39323331313234392e6a7067"><img src="https://camo.githubusercontent.com/d5e59e4ddde984d4bc09b89baf24a74affcf7e77dfdd7684745a5bf9d8e6a713/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f39323331313234392e6a7067" alt="img"></a></p>
<blockquote>
<p>==服务端的表分区对于客户端是透明的==，客户端还是照常插入数据，但服务端会按照分区算法分散存储数据。</p>
</blockquote>
<h2 id="MySQL提供的分区算法"><a href="#MySQL提供的分区算法" class="headerlink" title="MySQL提供的分区算法"></a>MySQL提供的分区算法</h2><blockquote>
<p>==分区依据的字段必须是主键的一部分==，分区是为了快速定位数据，因此该字段的搜索频次较高应作为强检索字段，否则依照该字段分区毫无意义</p>
</blockquote>
<h3 id="hash-field"><a href="#hash-field" class="headerlink" title="hash(field)"></a>hash(field)</h3><p>相同的输入得到相同的输出。输出的结果跟输入是否具有规律无关。==仅适用于整型字段==</p>
<h3 id="key-field"><a href="#key-field" class="headerlink" title="key(field)"></a>key(field)</h3><p>和<code>hash(field)</code>的性质一样，只不过<code>key</code>是==处理字符串==的，比<code>hash()</code>多了一步从字符串中计算出一个整型在做取模操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table article_key(</span><br><span class="line">	id int auto_increment,</span><br><span class="line">	title varchar(64),</span><br><span class="line">	content text,</span><br><span class="line">	PRIMARY KEY (id,title)	-- 要求分区依据字段必须是主键的一部分</span><br><span class="line">)PARTITION by KEY(title) PARTITIONS 10</span><br></pre></td></tr></table></figure>
<h3 id="range算法"><a href="#range算法" class="headerlink" title="range算法"></a>range算法</h3><p>是一种==条件分区==算法，按照数据大小范围分区（将数据使用某种条件，分散到不同的分区中）。</p>
<p>如下，按文章的发布时间将数据按照2018年8月、9月、10月分区存放：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table article_range(</span><br><span class="line">	id int auto_increment,</span><br><span class="line">	title varchar(64),</span><br><span class="line">	content text,</span><br><span class="line">	created_time int,	-- 发布时间到1970-1-1的毫秒数</span><br><span class="line">	PRIMARY KEY (id,created_time)	-- 要求分区依据字段必须是主键的一部分</span><br><span class="line">)charset&#x3D;utf8</span><br><span class="line">PARTITION BY RANGE(created_time)(</span><br><span class="line">	PARTITION p201808 VALUES less than (1535731199),	-- select UNIX_TIMESTAMP(&#39;2018-8-31 23:59:59&#39;)</span><br><span class="line">	PARTITION p201809 VALUES less than (1538323199),	-- 2018-9-30 23:59:59</span><br><span class="line">	PARTITION p201810 VALUES less than (1541001599)	-- 2018-10-31 23:59:59</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/25bf6ba81792e318bb16dda332dbc182493a50791c7b8fd5efe5e5e81c189e4b/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f38393331323639322e6a7067"><img src="https://camo.githubusercontent.com/25bf6ba81792e318bb16dda332dbc182493a50791c7b8fd5efe5e5e81c189e4b/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f38393331323639322e6a7067" alt="img"></a></p>
<p>注意：条件运算符只能使用==less than==，这以为着较小的范围要放在前面，比如上述<code>p201808,p201819,p201810</code>分区的定义顺序依照<code>created_time</code>数值范围从小到大，不能颠倒。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into article_range values(null,&#39;MySQL优化&#39;,&#39;内容示例&#39;,1535731180);</span><br><span class="line">flush tables;	-- 使操作立即刷新到磁盘文件</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/bb3aae2d491d0fbf4322bbfad1d1eb8b9de5a0b6323af060561b6905b277dfd1/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f35343931303837392e6a7067"><img src="https://camo.githubusercontent.com/bb3aae2d491d0fbf4322bbfad1d1eb8b9de5a0b6323af060561b6905b277dfd1/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f35343931303837392e6a7067" alt="img"></a></p>
<p>由于插入的文章的发布时间<code>1535731180</code>小于<code>1535731199</code>（<code>2018-8-31 23:59:59</code>），因此被存储到<code>p201808</code>分区中，这种算法的存储到哪个分区取决于数据状况。</p>
<h3 id="list算法"><a href="#list算法" class="headerlink" title="list算法"></a>list算法</h3><p>也是一种条件分区，按照列表值分区（<code>in (值列表)</code>）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">create table article_list(</span><br><span class="line">	id int auto_increment,</span><br><span class="line">	title varchar(64),</span><br><span class="line">	content text,</span><br><span class="line">	status TINYINT(1),	-- 文章状态：0-草稿，1-完成但未发布，2-已发布</span><br><span class="line">	PRIMARY KEY (id,status)	-- 要求分区依据字段必须是主键的一部分</span><br><span class="line">)charset&#x3D;utf8</span><br><span class="line">PARTITION BY list(status)(</span><br><span class="line">	PARTITION writing values in(0,1),	-- 未发布的放在一个分区	</span><br><span class="line">	PARTITION published values in (2)	-- 已发布的放在一个分区</span><br><span class="line">);</span><br><span class="line">insert into article_list values(null,&#39;mysql优化&#39;,&#39;内容示例&#39;,0);</span><br><span class="line">flush tables;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/5ee0c459ebfdb39ff526c4e3322b85e99d5f8e00dd4590a054b1842c7a4e8ac5/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f35343234303837362e6a7067"><img src="https://camo.githubusercontent.com/5ee0c459ebfdb39ff526c4e3322b85e99d5f8e00dd4590a054b1842c7a4e8ac5/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f35343234303837362e6a7067" alt="img"></a></p>
<h2 id="分区管理语法"><a href="#分区管理语法" class="headerlink" title="分区管理语法"></a>分区管理语法</h2><h3 id="range-list"><a href="#range-list" class="headerlink" title="range/list"></a>range/list</h3><h4 id="增加分区"><a href="#增加分区" class="headerlink" title="增加分区"></a>增加分区</h4><p>前文中我们尝试使用<code>range</code>对文章按照月份归档，随着时间的增加，我们需要增加一个月份：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alter table article_range add partition(</span><br><span class="line">	partition p201811 values less than (1543593599)	-- select UNIX_TIMESTAMP(&#39;2018-11-30 23:59:59&#39;)</span><br><span class="line">	-- more</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/07f27bc339c2d4813d22277b437f1978521e70762005bf25224166c28f765fcd/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f31373136303031322e6a7067"><img src="https://camo.githubusercontent.com/07f27bc339c2d4813d22277b437f1978521e70762005bf25224166c28f765fcd/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f31373136303031322e6a7067" alt="img"></a></p>
<h4 id="删除分区"><a href="#删除分区" class="headerlink" title="删除分区"></a>删除分区</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table article_range drop PARTITION p201808</span><br></pre></td></tr></table></figure>
<p>注意：==删除分区后，分区中原有的数据也会随之删除！==</p>
<h3 id="key-hash"><a href="#key-hash" class="headerlink" title="key/hash"></a>key/hash</h3><h4 id="新增分区"><a href="#新增分区" class="headerlink" title="新增分区"></a>新增分区</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table article_key add partition partitions 4</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/549e2d27554982ae4beac4dd5317313d69947bd39260c94091a9f4f14f5bc05f/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f38333038393734362e6a7067"><img src="https://camo.githubusercontent.com/549e2d27554982ae4beac4dd5317313d69947bd39260c94091a9f4f14f5bc05f/687474703a2f2f7a616e77656e626c6f672e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d31322d32362f38333038393734362e6a7067" alt="img"></a></p>
<h4 id="销毁分区"><a href="#销毁分区" class="headerlink" title="销毁分区"></a>销毁分区</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table article_key coalesce partition 6</span><br></pre></td></tr></table></figure>
<p><code>key/hash</code>分区的管理不会删除数据，但是每一次调整（新增或销毁分区）都会将所有的数据重写分配到新的分区上。==效率极低==，最好在设计阶段就考虑好分区策略。</p>
<h2 id="分区的使用"><a href="#分区的使用" class="headerlink" title="分区的使用"></a>分区的使用</h2><p>当数据表中的数据量很大时，分区带来的效率提升才会显现出来。</p>
<p>只有检索字段为分区字段时，分区带来的效率提升才会比较明显。因此，==分区字段的选择很重要==，并且==业务逻辑要尽可能地根据分区字段做相应调整==（尽量使用分区字段作为查询条件）。</p>
<h1 id="水平分割和垂直分割"><a href="#水平分割和垂直分割" class="headerlink" title="水平分割和垂直分割"></a>水平分割和垂直分割</h1><blockquote>
<p>水平分割：通过建立结构相同的几张表分别存储数据</p>
<p>垂直分割：将经常一起使用的字段放在一个单独的表中，分割后的表记录之间是一一对应关系。</p>
</blockquote>
<h2 id="分表原因"><a href="#分表原因" class="headerlink" title="分表原因"></a>分表原因</h2><ul>
<li>为数据库减压</li>
<li>分区算法局限</li>
<li>数据库支持不完善（<code>5.1</code>之后<code>mysql</code>才支持分区操作）</li>
</ul>
<h2 id="id重复的解决方案"><a href="#id重复的解决方案" class="headerlink" title="id重复的解决方案"></a>id重复的解决方案</h2><ul>
<li>借用第三方应用如<code>memcache、redis</code>的<code>id</code>自增器</li>
<li>单独建一张只包含<code>id</code>一个字段的表，每次自增该字段作为数据记录的<code>id</code></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Jia Xufeng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://icool8.cn/2017/11/23/Blog/java/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql-%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87-%E5%88%86%E5%8C%BA/">https://icool8.cn/2017/11/23/Blog/java/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql-%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87-%E5%88%86%E5%8C%BA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/mysql/">mysql</a><a class="post-meta__tags" href="/tags/%E5%88%86%E5%8C%BA/">分区</a><a class="post-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87/">性能提升</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2017/11/28/Blog/java/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql-%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87-%E9%9B%86%E7%BE%A4/"><i class="fa fa-chevron-left">  </i><span>mysql-性能提升-集群</span></a></div><div class="next-post pull-right"><a href="/2017/11/18/Blog/java/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql-%E7%B4%A2%E5%BC%95/"><span>mysql-索引</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2021 By Jia Xufeng</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>